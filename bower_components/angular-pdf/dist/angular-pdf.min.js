/*!
 * Angular-PDF: An Angularjs directive <ng-pdf> to display PDF in the browser with PDFJS.
 * @version 1.6.3
 * @link https://github.com/sayanee/angular-pdf#readme
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define("pdf",["angular"],t):"object"==typeof exports?exports.pdf=t(require("angular")):e.pdf=t(e.angular)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s="./src/angular-pdf.module.js")}({"./src/angular-pdf.directive.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NgPdf=["$window","$document","$log",function(e,t,n){"ngInject";var r=function(t){var n=t.getContext("2d");return(e.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)},o=function(e,t,n){var o=r(e);return e.width=Math.floor(t*o),e.height=Math.floor(n*o),e.style.width=Math.floor(t)+"px",e.style.height=Math.floor(n)+"px",e.getContext("2d").setTransform(o,0,0,o,0,0),e};return{restrict:"E",templateUrl:function(e,t){return t.templateUrl?t.templateUrl:"partials/viewer.html"},link:function(r,a,i){function u(){b&&b.clearRect(0,0,v.width,v.height)}function l(){u();var e={url:g,withCredentials:x};d&&(e.httpHeaders=d),g&&g.length&&(c=PDFJS.getDocument(e),c.onProgress=r.onProgress,c.onPassword=r.onPassword,c.then(function(e){angular.isFunction(r.onLoad)&&r.onLoad(),f=e,r.renderPage(r.pageToDisplay),r.$apply(function(){r.pageCount=e.numPages})},function(e){e&&angular.isFunction(r.onError)&&r.onError(e)}))}var s=null,c=null,p=!1,g=r.pdfUrl,d=r.httpHeaders,f=null,P=isFinite(i.page)?parseInt(i.page):1,h="page-fit"===i.scale,y=i.scale>0?i.scale:1,m=i.canvasid||"pdf-canvas",v=t[0].getElementById(m),x=i.usecredentials;p=!!i.hasOwnProperty("debug")&&i.debug;var b=v.getContext("2d"),w=angular.element(e);a.css("display","block"),w.on("scroll",function(){r.$apply(function(){r.scroll=w[0].scrollY})}),PDFJS.disableWorker=!0,r.pageNum=P,r.renderPage=function(e){s&&s._internalRenderTask.cancel(),f.getPage(e).then(function(e){var t=void 0,i=void 0,u=void 0;if(h){t=e.getViewport(1);i=a[0].getBoundingClientRect().width/t.width,y=i}t=e.getViewport(y),o(v,t.width,t.height),u={canvasContext:b,viewport:t},s=e.render(u),s.promise.then(function(){angular.isFunction(r.onPageRender)&&r.onPageRender()}).catch(function(e){n.log(e)})})},r.goPrevious=function(){r.pageToDisplay<=1||(r.pageToDisplay=parseInt(r.pageToDisplay)-1,r.pageNum=r.pageToDisplay)},r.goNext=function(){r.pageToDisplay>=f.numPages||(r.pageToDisplay=parseInt(r.pageToDisplay)+1,r.pageNum=r.pageToDisplay)},r.zoomIn=function(){return h=!1,y=parseFloat(y)+.2,r.renderPage(r.pageToDisplay),y},r.zoomOut=function(){return h=!1,y=parseFloat(y)-.2,r.renderPage(r.pageToDisplay),y},r.fit=function(){h=!0,r.renderPage(r.pageToDisplay)},r.changePage=function(){r.renderPage(r.pageToDisplay)},r.rotate=function(){"rotate0"===v.getAttribute("class")?v.setAttribute("class","rotate90"):"rotate90"===v.getAttribute("class")?v.setAttribute("class","rotate180"):"rotate180"===v.getAttribute("class")?v.setAttribute("class","rotate270"):v.setAttribute("class","rotate0")},r.$watch("pageNum",function(e){r.pageToDisplay=parseInt(e),null!==f&&r.renderPage(r.pageToDisplay)}),r.$watch("pdfUrl",function(e){""!==e&&(p&&n.log("pdfUrl value change detected: ",r.pdfUrl),g=e,r.pageNum=r.pageToDisplay=P,c?c.destroy().then(function(){l()}):l())})}}}]},"./src/angular-pdf.module.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pdf=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n("./src/angular-pdf.directive.js");t.Pdf=o.default.module("pdf",[]).directive("ngPdf",a.NgPdf).name},0:function(t,n){t.exports=e}})});
//# sourceMappingURL=angular-pdf.min.js.map