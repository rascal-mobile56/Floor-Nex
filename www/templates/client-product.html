<ion-view title="Product List" id="page8">
    <ion-nav-bar class="bar-energized">
        <ion-nav-back-button class="button-icon ion-android-arrow-back">
        </ion-nav-back-button>
        <ion-nav-buttons side="right">
            <button class="button" ng-click="addProduct()">
                Add Product
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content padding="true" class="has-header">
        <div id="productIst-container5">
            <form id="productIst-form12" class="list">
                <label class="item item-input" id="productIst-search1">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="search" placeholder="" ng-model="searchText" ng-change="updateSearchText(searchText)">
                </label>
                <button id="productIst-button6" ng-click="showFilterOptions()"
                        class="button button-positive button-small button-block button-outline icon-left ion-ios-color-wand">
                    More Options
                </button>
                <label class="item item-select type-select" ng-show="showOptions">
                    <span class="input-label">Material</span>
                    <select ng-model="material" ng-options="item.name for item in materials"
                            ng-change="updateMaterial(material)"></select>
                </label>
                <label class="item item-select type-select" ng-show="showOptions">
                    <span class="input-label">Project</span>
                    <select ng-model="project" ng-options="item.name for item in projects"
                            ng-change="updateProject(project)"></select>
                </label>
            </form>
        </div>
        <div class="spacer" style="width: 300px; height: 13px;"></div>
        <ion-list id="productIst-list5">
            <ion-item class="item-thumbnail-left item-icon-right" ng-repeat="item in results"
                      ui-sref="menu.productDetail({key: item.$id, clientKey:clientKey})">
                <img src="{{item.photos[0]}}">
                <h2>{{item.name}}</h2>
                <p>Cost: ${{item.cost}}, Price: ${{(item.cost * 1) + (item.cost * 1) * (item.markup * 1) / 100}}</p>
                <p>
                    <label class="{{item.is_available ? 'label-available' : 'label-unavailable'}}">{{item.is_available ?
                        'Available' : 'Unavailable'}}</label>
                </p>
                <i class="icon ion-chevron-right"></i>

                <ion-option-button class="button-assertive"
                                   ng-click="removeProduct(item, $index)">
                    Remove
                </ion-option-button>
            </ion-item>
        </ion-list>
        <div id="productIst-button-bar23" ng-show="results.length > 0" class="button-bar">
            <button id="productIst-button29" ng-click="sendEmail()"
                    class="button button-positive  button-block icon ion-email">&nbsp; Email
            </button>
            <button id="productIst-button30" ng-click="downloadPDF()"
                    class="button button-positive  button-block icon ion-android-download">&nbsp; PDF
            </button>
        </div>
    </ion-content>
</ion-view>